package Cluster

import (
	"log"
	"testing"
)

var testGSA = []byte{
	1, 9, 0, 2, 0, 2, 0, 100, 0, 12, 13, 10, // Header + \r\n
	1, 0, 0, 0, 100, 0, 2, 24, 116, 101, 115, 116, 45, 115, 101, 114,
	118, 101, 114, 45, 50, 64, 49, 55, 52, 52, 55, 57, 49, 48, 52, 51,
	24, 116, 101, 115, 116, 45, 115, 101, 114, 118, 101, 114, 45, 49,
	64, 49, 55, 52, 52, 55, 57, 49, 48, 52, 50, 0, 0, 0, 0, 103, 255,
	102, 2, 24, 116, 101, 115, 116, 45, 115, 101, 114, 118, 101, 114,
	45, 50, 64, 49, 55, 52, 52, 55, 57, 49, 48, 52, 51, 0, 0, 0, 0,
	103, 255, 102, 5, 13, 10, // payload + \r\n
}

func TestParser(t *testing.T) {

	pm := &parseMeta{}

	testPacket := testGSA

	pm.ParsePacket(testPacket)

	log.Printf("msg = %s", pm.msgBuf)

}
